"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[149],{687:function(n,e,t){t.d(e,{Q:function(){return a}});var r=t(243);r.Z.defaults.baseURL="https://api.themoviedb.org/3",r.Z.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDYzMDRkOWU2NGUwM2ViOGY1NGM5MWFmMDgyYTFmMyIsInN1YiI6IjY0NzhlNTE5Y2Y0YjhiMDE0MThkZWI5YyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.rtCRi_Yj7uZNfshhCG6H9Eyo6JMNm4bccFC0_mOpATI";var a="https://image.tmdb.org/t/p/"},789:function(n,e,t){t.d(e,{Z:function(){return I}});var r,a,i,o,c,s,u,l,d,h=t(168),p=t(87),f=t(444),x=(f.ZP.ul(r||(r=(0,h.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n"]))),f.ZP.li(a||(a=(0,h.Z)(["\n  width: 175px;\n  min-width: 175px;\n  font-size: 0.8rem;\n\n  border: 0.5px solid lightGray;\n  border-radius: 6px;\n  overflow: hidden;\n"])))),v=f.ZP.img(i||(i=(0,h.Z)(["\n  max-width: 100%;\n"]))),m=f.ZP.div(o||(o=(0,h.Z)(["\n  padding: 0 10px;\n  color: black;\n"]))),Z=f.ZP.p(c||(c=(0,h.Z)(["\n  font-weight: bold;\n"]))),g=f.ZP.p(s||(s=(0,h.Z)(["\n  color: gray;\n"]))),y=(0,f.ZP)(p.rU)(u||(u=(0,h.Z)(["\n  text-decoration: none;\n  font-weight: normal;\n\n  :hover,\n  :focus {\n    text-decoration: none;\n  }\n"]))),j=f.ZP.p(l||(l=(0,h.Z)(["\n  color: gray;\n"]))),w=t(687),b=t(184);function Y(n){var e=n.movieData,t=e.id,r=e.title,a=e.poster_path,i=void 0===a?null:a,o=e.release_date,c=void 0===o?null:o,s=n.query,u=void 0===s?null:s,l=n.isDateAYear,d=void 0!==l&&l?c?"(".concat(c.slice(0,4),")"):null:null,h=u?{from:"/movies?query=".concat(u)}:"/";return(0,b.jsx)(x,{children:(0,b.jsx)(y,{to:"/movies/".concat(t),state:h,children:(0,b.jsxs)("div",{children:[(0,b.jsx)(v,{src:i?"".concat(w.Q,"w185").concat(i):"https://fakeimg.pl/175x260?text=No+image&font=noto",alt:r}),(0,b.jsxs)(m,{children:[(0,b.jsx)(Z,{children:r}),d?(0,b.jsx)(g,{children:d}):(0,b.jsx)(j,{children:c})]})]})})})}var k=f.ZP.ul(d||(d=(0,h.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n"])));function I(n){var e=n.data,t=n.query,r=n.isDateAYear;return(0,b.jsx)(k,{children:e.map((function(n){return(0,b.jsx)(Y,{movieData:n,isDateAYear:r,query:t},n.id)}))})}},149:function(n,e,t){t.r(e),t.d(e,{default:function(){return p}});var r=t(861),a=t(439),i=t(757),o=t.n(i),c=t(791),s=t(87),u=t(243),l=(t(687),t(184));function d(n){var e=n.action,t=(0,c.useState)(""),r=(0,a.Z)(t,2),i=r[0],o=r[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("form",{onSubmit:function(n){n.preventDefault(),""!==i.trim()?(e({query:i}),o("")):alert("Your search request is empty")},children:[(0,l.jsx)("input",{type:"text",onChange:function(n){o(n.target.value)},value:i}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})})}var h=t(789);function p(){var n,e=(0,c.useState)([]),t=(0,a.Z)(e,2),i=t[0],p=t[1],f=(0,c.useState)(null),x=(0,a.Z)(f,2),v=x[0],m=x[1],Z=(0,c.useState)(!1),g=(0,a.Z)(Z,2),y=g[0],j=g[1],w=(0,s.lr)(),b=(0,a.Z)(w,2),Y=b[0],k=b[1],I=null!==(n=Y.get("query"))&&void 0!==n?n:"";return(0,c.useEffect)((function(){var n;if(""!==I)return function(){e.apply(this,arguments)}(),function(){return n()};function e(){return(e=(0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(null),j(!0),e.next=5,u.Z.get("/search/movie?query=".concat(I),{cancelToken:new u.Z.CancelToken((function(e){return n=e}))});case 5:t=e.sent,p(t.data.results),console.log("response.data: ",t.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),"canceled"!==(r=e.t0.message)&&m(r);case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})))).apply(this,arguments)}}),[I]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{action:k}),y&&(0,l.jsx)("div",{children:"Loading..."}),v&&(0,l.jsx)("div",{children:v}),0===i.length&&!y&&(0,l.jsx)("div",{style:{marginTop:"10px",color:"rgb(45, 187, 208)"},children:"Sorry, your query returned no matches"}),i.length>0&&(0,l.jsx)(h.Z,{data:i,isDateAYear:!0,query:I})]})}}}]);
//# sourceMappingURL=149.e3267466.chunk.js.map