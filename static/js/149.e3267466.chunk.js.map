{"version":3,"file":"static/js/149.e3267466.chunk.js","mappings":"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","sources":["api.js","components/MovieListitem/MovieListitem.styled.js","components/MovieListitem/MovieListitem.jsx","components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","components/SearchForm/SearchForm.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\n// const REACT_APP_API_KEY = 'd06304d9e64e03eb8f54c91af082a1f3';\n\nconst AUTH_TOKEN =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDYzMDRkOWU2NGUwM2ViOGY1NGM5MWFmMDgyYTFmMyIsInN1YiI6IjY0NzhlNTE5Y2Y0YjhiMDE0MThkZWI5YyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.rtCRi_Yj7uZNfshhCG6H9Eyo6JMNm4bccFC0_mOpATI';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n\nexport const imageBaseURL = 'https://image.tmdb.org/t/p/';\n\n// ########################################\n\n// export async function getTrendingMovies() {\n//   const response = await axios.get('/trending/movie/day');\n//   return response.data;\n// }\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n`;\n\nexport const ListItem = styled.li`\n  width: 175px;\n  min-width: 175px;\n  font-size: 0.8rem;\n\n  border: 0.5px solid lightGray;\n  border-radius: 6px;\n  overflow: hidden;\n`;\n\nexport const Image = styled.img`\n  max-width: 100%;\n`;\n\nexport const Meta = styled.div`\n  padding: 0 10px;\n  color: black;\n`;\n\nexport const Title = styled.p`\n  font-weight: bold;\n`;\nexport const Year = styled.p`\n  color: gray;\n`;\n\nexport const StyledLink = styled(Link)`\n  text-decoration: none;\n  font-weight: normal;\n\n  :hover,\n  :focus {\n    text-decoration: none;\n  }\n`;\nexport const ReleaseDate = styled.p`\n  color: gray;\n`;\n","import {\n  Image,\n  ListItem,\n  Meta,\n  ReleaseDate,\n  StyledLink,\n  Title,\n  Year,\n} from './MovieListitem.styled';\n\nimport { imageBaseURL } from 'api';\n\n// ###################################################\n\nexport default function MovieListitem({\n  movieData: { id, title, poster_path = null, release_date = null },\n  query = null,\n  isDateAYear = false,\n}) {\n  const getYear = date => (date ? `(${release_date.slice(0, 4)})` : null);\n  const year = isDateAYear ? getYear(release_date) : null;\n  const from = query ? { from: `/movies?query=${query}` } : '/';\n\n  return (\n    <ListItem>\n      <StyledLink to={`/movies/${id}`} state={from}>\n        <div>\n          <Image\n            src={\n              poster_path\n                ? `${imageBaseURL}w185${poster_path}`\n                : 'https://fakeimg.pl/175x260?text=No+image&font=noto'\n            }\n            // srcSet={`${imageBaseURL}w185${profile_path} 1x, ${imageBaseURL}w185${profile_path} 2x`}\n            alt={title}\n          />\n\n          <Meta>\n            <Title>{title}</Title>\n            {year ? (\n              <Year>{year}</Year>\n            ) : (\n              <ReleaseDate>{release_date}</ReleaseDate>\n            )}\n          </Meta>\n        </div>\n      </StyledLink>\n    </ListItem>\n  );\n}\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n`;\n","import MovieListitem from 'components/MovieListitem/MovieListitem';\nimport { List } from './MovieList.styled';\n\nexport default function MovieList({ data, query, isDateAYear }) {\n  return (\n    <List>\n      {data.map(element => (\n        <MovieListitem\n          key={element.id}\n          movieData={element}\n          isDateAYear={isDateAYear}\n          query={query}\n        />\n      ))}\n    </List>\n  );\n}\n","import { useState } from 'react';\n\n// ###############################\n\nexport default function SearchForm({ action }) {\n  //\n  const [input, setInput] = useState('');\n\n  const handleChange = e => {\n    setInput(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (input.trim() === '') {\n      alert('Your search request is empty');\n      return;\n    }\n\n    action({ query: input });\n    setInput('');\n    // or\n    // e.currentTarget.reset();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleChange} value={input} />\n        <button type=\"submit\">Search</button>\n      </form>\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport axios from 'axios';\nimport 'api';\n\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MovieList from 'components/MovieList/MovieList';\n\n// ###### Movies ####################################\n\nexport default function Movies() {\n  //\n  const [results, setResults] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query === '') return;\n\n    let cancel;\n\n    // GET 'https://api.themoviedb.org/3/search/movie?query=batman&include_adult=true&language=en-US&page=1'\n\n    async function getResults() {\n      try {\n        setError(null);\n        setIsLoading(true);\n\n        const response = await axios.get(`/search/movie?query=${query}`, {\n          cancelToken: new axios.CancelToken(c => (cancel = c)),\n        });\n\n        setResults(response.data.results);\n        console.log('response.data: ', response.data);\n      } catch ({ message }) {\n        if (message !== 'canceled') {\n          setError(message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    getResults();\n\n    return () => cancel();\n  }, [query]);\n\n  return (\n    <>\n      <SearchForm action={setSearchParams} />\n      {isLoading && <div>Loading...</div>}\n      {error && <div>{error}</div>}\n\n      {results.length === 0 && !isLoading && (\n        <div style={{ marginTop: '10px', color: 'rgb(45, 187, 208)' }}>\n          Sorry, your query returned no matches\n        </div>\n      )}\n\n      {results.length > 0 && (\n        <MovieList data={results} isDateAYear={true} query={query} />\n      )}\n    </>\n  );\n}\n"],"names":["axios","imageBaseURL","ListItem","styled","Image","Meta","Title","Year","StyledLink","Link","ReleaseDate","MovieListitem","movieData","id","title","poster_path","release_date","query","isDateAYear","year","slice","from","to","state","src","alt","List","MovieList","data","map","element","SearchForm","action","useState","input","setInput","onSubmit","e","preventDefault","trim","alert","type","onChange","target","value","Movies","results","setResults","error","setError","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","get","useEffect","cancel","getResults","cancelToken","c","response","console","log","message","length","style","marginTop","color"],"sourceRoot":""}